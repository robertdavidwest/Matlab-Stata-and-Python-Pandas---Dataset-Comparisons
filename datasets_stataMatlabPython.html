<!DOCTYPE html>
<html>
<head>
<title>MarkdownPad Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;

  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {


  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
</head>
<body>
<table width=183 style='table-layout:fixed'>
	<col width=450>
	<col width=450>
	<col width=450>
	<col width=450>
	
	<!------------------------------->
	<!--HEADER ROW-->
	<!------------------------------->
	<tr>
		<th>Notes</th><th>MATLAB</th><th>Python</th><th>Stata</th></tr>
	<tr>
	
	<!------------------------------->
	<!--Instantiating a new dataset-->
	<!------------------------------->	
	<tr>
		<!--Notes--->
		<td> Instantiating a new dataset (with an integer variable and a string variable) </td>
		<!--MATLAB-->
		<td>
			Class: <code>dataset</code> 
<pre><code>>> var1 = [1; 2; 3];
>> var2 = {'a';'b';'b'};  
>> df = table(var1,var2) 
df =
&nbsp var1  var2
&nbsp 1    'a'
&nbsp 2    'b'
&nbsp 3    'b'
</code></pre>
		</td>
		<!--Python-->
		<td>
			Class: <code>pandas.DataFrame</code> 				
<pre><code>>>> df = pandas.DataFrame({'var1':[1, 2, 3],
... 'var2':['a', 'b', 'b']})
>>> print df
&nbsp var1  var2
0 1    'a'
1 2    'b'
2 3    'b'
</code></pre>
		</td>
		<!--Stata--->
		<td>
		By default every command in Stata acts on a single active dataset. Opening a new instance of Stata will create a blank dataset: 
<pre><code>set obs 3
generate var1=.
replace var1 = 1 in 1
replace var1 = 2 in 2
replace var1 = 3 in 3

generate var2=""
replace var2 = "a" in 1
replace var2 = "b" in 2
replace var2 = "b" in 3
</code></pre>
		</td>
	</tr>
	
	<!------------------------------->
	<!--Creating a new dataset from a csv file-->	
	<!------------------------------->	
	<tr>
		<!--Notes--->
		<td> Creating a new dataset from a csv file</td>
		<!--MATLAB-->
		<td><code>df = readtable('datafile.csv','delimiter',',')</code></td>
		<!--Python-->
		<td>
<pre><code>df = pandas.DataFrame.from_csv('datafile.csv', sep=',' ,
  ... index_col=False)
</code></pre>
		</td>
		<!--Stata--->
		<td><code>insheet using "datafile.csv", comma</code></td>
	</tr>
	
	<!------------------------------->
	<!--Reference a variable in the dataset-->	
	<!------------------------------->	
	<tr>
		<!--Notes--->
		<td>Reference a variable in the dataset</td>
		<!--MATLAB-->
		<td><code>df.var1 </code></td>
		<!--Python-->		
		<td><code>df.var1 </code> or <code>df['var1'] </code></td>
		<!--Stata--->
		<td>In Stata you can reference the variable directly by its name <code>var1 </code></td>
	</tr>
	
	<!------------------------------->
	<!--Adding a variable to the dataset-->	
	<!------------------------------->	
	<tr>
		<!--Notes--->
		<td>Adding a variable to the dataset</td>
		<!--MATLAB-->
		<td><code>df.var3 = [4;5;6] </code></td>
		<!--Python-->
		<td><code>df['var3'] = [4,5,6]</code></td>
		<!--Stata--->
		<td>
<pre><code>generate var3=.
replace var3 = 4 in 1
replace var3 = 5 in 2
replace var3 = 6 in 3
</code></pre>
		</td>
	</tr>
	
	<!------------------------------->
	<!--Drop a variable from the dataset-->	
	<!------------------------------->	
	<tr>
		<!--Notes--->
		<td>Drop a variable from the dataset</td>
		<!--MATLAB-->
		<td><code>df.var3 = []; </code></td>
		<!--Python-->
		<td><code>df.drop('var3',axis=1,inplace=True)</code></td>
		<!--Stata--->
		<td><code>drop var3</code></td>
	</tr>

	<!------------------------------->
	<!--Tabulate Data-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td>Tabulate (count occurrences of)</td>
		<!--MATLAB-->
		<td>
		This is a bit ugly in Matlab. You need to create a categorical variable:
<pre><code>
>> df.var2 = categorical(df.var2)
>> category(df.var2)
ans = 

    'a'
    'b'	
>> countcats(df.var2)
ans =

     1
     2
</pre></code>
		</td>
		<!--Python-->
		<td>
<pre><code># Frequency
df['var2'].value_counts()
b    2
a    1

# Percentage
df['var2'].value_counts(normalize=1)
b    0.666667
a    0.333333
</code></td>
		<!--Stata--->
		<td>
<pre><code>tabulate var2

       var2 |      Freq.     Percent        Cum.
------------+-----------------------------------
          a |          1       33.33       33.33
          b |          2       66.67      100.00
------------+-----------------------------------
      Total |          3      100.00
<pre></code></td>
	</tr>
	
	<!------------------------------->
	<!--Collapse/Group Data-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b>Group data together by a summary statistic</b> and category (in this example I'm showing the the mean and the sum, other summary stats can be used too). <br><br> Note that Matlab and Stata will produce one dataset of results, Python will produce a new dataset for every summary stat. <br><br> Further note that Matlab will automatically rename the variables being grouped to include the sum stat applied to them, stata will optionally allow you to change the name and Pandas will keep the variable names the same</td>
		<!--MATLAB-->
		<td>
<pre><code>>> grpstats(df,{'var2'},{'mean','sum'},'DataVars',{'var1','var3'}) 
ans = 

         var2       GroupCount    mean_var1    sum_var1    mean_var3    sum_var3
    a    'a'        1               1          1             4           4      
    b    'b'        2             2.5          5           5.5          11 
</pre></code>
		</td>
		
		<!--Python-->
		<td>
<pre><code>>>> d.groupby(by='var2').mean()
      var1   var3
var2           
a      1.0  4.0
b      2.5  5.5
>>> d.groupby(by='var2').sum()
      var1  var3
var2          
a        1   4
b        5  11
		</td>
		<!--Stata--->		
		<td>
<pre><code>collapse (mean) var1_mean=var1 var3_mean=var3
	(sum) var1_sum=var1 var3_sum=var3, by(var2)
	
var2 var1_mean var3_mean var1_sum var3_sum
a    1         4         1        4
b    2.5       5.5       5        11

</code></pre>
		</td>
	</tr>
	
	<!------------------------------->
	<!--Pivot Data-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b>Reshape Wide/Unstack/Pivot </b>: This is probably the most confusing since the syntax is completely different across the 3 languages, moreover the same function names are used across the languages but to perform different tasks.</td>
		<!--MATLAB-->
		<td><pre><code>>> wide = unstack(df,'var1','var2')		
wide = 

    var3    a      b  
    4         1    NaN
    5       NaN      2
    6       NaN      3
</pre></code>
		</td>
		<!--Python-->
		<td>
		<pre><code>>>> wide = df.pivot(index='var3',columns='var2',values='var1')
var2   a   b
var3        
4      1 NaN
5    NaN   2
6    NaN   3
</pre></code></td>
		
		<!--Stata--->
		<td>
<pre><code>reshape wide var1, i(var3) j(var2) string 	

var3	var1a	var1b
4	1	
5		2
6		3
</code></pre>
		</td>
	</tr>

	<!------------------------------->
	<!--UnPivot Data-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b> Reshape Long/Stack/Melt </b> - The inverse of the previous function</td>
		
		<!--MATLAB-->
		<td>
<pre><code>>> df = stack(wide,{'a','b'},'NewDataVariableName','var1','IndexVariableName','var2')
>> df = df(~isnan(df.var1),:);
</code></pre>
			
			Note: df is not quite equivalent to the original dataset. <code>var2</code> is now stored as a categorical variable rather than a cell array
		</td>	
		<!--Python-->
		<td>
<pre><code>>>> wide.reset_index(level=0, inplace=True)
>>> df = pandas.melt(wide,id_vars='var3',value_vars=['a','b'])
>>> df.rename(columns={'value':'var1'},inplace=True)
>>> df.dropna()
</code></pre>
		</td>	
		<!--Stata--->
		<td>
<pre><code>reshape long var1, i(var3) j(var2) string
drop if var1 == .
</code></pre>
		</td>		
	</tr>
	
	<!------------------------------->
	<!--Append Datasets-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b> Append </b> - Append two datasets together, in this example I'm simply appending the same dataset to itself, doubling the number of rows</td>
		<!--MATLAB-->
		<td> 
<pre><code>>> df_appended = [df ; df]
df_appended = 

    var3    var2    var1
    ____    ____    ____

    4       a       1   
    5       b       2   
    6       b       3   
    4       a       1   
    5       b       2   
    6       b       3
	
</code></pre>
		</td>
		<td>
		<!--Python-->
<pre><code>>>> df_appended = df.append(df)
>>> print df_appended
   var1 var2 var3
0     1    a	4
1     2    b	5
2     3    b	6
0     1    a	4
1     2    b	5
2     3    b	6
</code></pre>	
		</td>
		<td>
		<!--Stata--->
<pre><code>// Save the current dataset in memory then append it to itself
save tempfile `df'
append using `df'
		</td>
</code></pre>		
		
	</tr>

	<!------------------------------->
	<!--Merge Datasets 1:1-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b> Merge</b> 'innerjoin' or 'one-to-one'</td> 
		<!--MATLAB-->
		<td><code> innerjoin(df,df2,'keys','var2','RightVariables',{'var4','var5'}) </code></td>
		<!--Python-->
		<td><code> 		</code></td>
		<!--Stata--->
		<td><code> merge 1:1 var2 using df2, keepusing(var4 var5) </code></td>
	</tr>

	<!------------------------------->
	<!--Merge Datasets m:1-->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b>Merge</b> (outerjoin 'left' or 'many-to-one')</td> 
		<!--MATLAB-->
		<td><code> outerjoin(df, df2,'Type','left','keys','var2','RightVariables',{'var4','var5'}) </code></td>
		<!--Python-->
		<td><code> 		</code></td>
		<!--Stata--->
		<td><code> merge m:1 var2 using df2, keepusing(var4 var5) </code></td>
	</tr>

	<!------------------------------->
	<!--Merge Datasets m:m->	
	<!------------------------------->
	<tr>
		<!--Notes--->
		<td><b>Merge</b> (outerjoin 'many-to-many')</td> 
		<!--MATLAB-->
		<td><code> outerjoin(df, df2,'RightVariables',{'var4','var5'}) </code></td>
		<!--Python-->
		<td><code> 		</code></td>
		<!--Stata--->
		<td><code> merge m:m var2 using df2, keepusing(var4 var5) </code></td>
	</tr>	
	
	
	
	
</table>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
